package br.com.caelum.livraria.webservice;

import java.rmi.RemoteException;

public class TesteRequestSoapComJava {

	public static void main(String[] args) throws RemoteException {

		/*
		 * Uma vez criado o proxy podemos executar a chamada remota usando o
		 * método getLivrosPeloNome(..). Repare que parece que fazemos uma
		 * chamada local, mas na verdade será feita uma requisição HTTP que
		 * enviará o SOAP. O resultado dessa chamada é um array de livros:
		 */

		LivrariaWS cliente = new LivrariaWSProxy();

		Livro[] livros = cliente.getLivrosPeloNome("Gostoso");

		for (Livro livro : livros) {
			System.out.println(livro.getTitulo());
			System.out.println(livro.getAutor().getNome());

		}

	}

}